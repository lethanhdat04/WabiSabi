@startuml Nihongo Master - Use Case Diagram

' ============================================
' NIHONGO MASTER - USE CASE DIAGRAM
' Comprehensive Japanese Learning Platform
' ============================================

left to right direction
skinparam actorStyle awesome
skinparam packageStyle rectangle

' --- Actors ---
actor "Guest" as Guest #LightGray
actor "User" as User #LightBlue
actor "Admin" as Admin #Orange
actor "AI System" as AI #LightGreen
actor "YouTube API" as YouTube #Red

' --- System Boundary ---
rectangle "Nihongo Master Platform" {

    ' === Authentication & Profile ===
    package "Authentication & Profile" {
        usecase "Register Account" as UC_Register
        usecase "Login/Logout" as UC_Login
        usecase "Manage Profile" as UC_Profile
        usecase "View Learning Statistics" as UC_Stats
        usecase "View Achievements/Badges" as UC_Achievements
        usecase "Set Learning Goals" as UC_Goals
    }

    ' === Video Library & Practice ===
    package "Shadowing & Dictation" {
        usecase "Browse Video Library" as UC_BrowseVideos
        usecase "Search/Filter Videos" as UC_SearchVideos
        usecase "Practice Shadowing" as UC_Shadowing
        usecase "Practice Dictation" as UC_Dictation
        usecase "Record Voice" as UC_Record
        usecase "Receive AI Feedback" as UC_AIFeedback
        usecase "View Pronunciation Score" as UC_Score
        usecase "Save Practice History" as UC_SaveHistory
    }

    ' === Vocabulary Decks ===
    package "Vocabulary Learning" {
        usecase "Browse Public Decks" as UC_BrowseDecks
        usecase "Create Personal Deck" as UC_CreateDeck
        usecase "Add Vocabulary Items" as UC_AddVocab
        usecase "Edit Deck" as UC_EditDeck
        usecase "Delete Deck" as UC_DeleteDeck
        usecase "Share Deck Publicly" as UC_ShareDeck
        usecase "Clone/Fork Deck" as UC_CloneDeck
        usecase "Practice Flashcards" as UC_Flashcards
        usecase "Fill-in Practice Mode" as UC_FillIn
        usecase "Import Deck (CSV/JSON)" as UC_ImportDeck
    }

    ' === Spaced Repetition Review ===
    package "Review System" {
        usecase "Get Review Reminders" as UC_Reminders
        usecase "Review Due Items" as UC_Review
        usecase "View Weekly Progress Report" as UC_WeeklyReport
        usecase "Adjust Review Schedule" as UC_AdjustSchedule
    }

    ' === Community Forum ===
    package "Community" {
        usecase "View Forum Topics" as UC_ViewForum
        usecase "Create Post" as UC_CreatePost
        usecase "Comment on Post" as UC_Comment
        usecase "Like/Heart Content" as UC_Like
        usecase "Share Decks/Videos" as UC_Share
        usecase "Report Content" as UC_Report
        usecase "Follow Users" as UC_Follow
    }

    ' === Admin Functions ===
    package "Administration" {
        usecase "Upload Official Videos" as UC_UploadVideo
        usecase "Create Official Decks" as UC_OfficialDeck
        usecase "Moderate Content" as UC_Moderate
        usecase "Ban/Warn Users" as UC_BanUser
        usecase "View Analytics Dashboard" as UC_Analytics
        usecase "Manage Categories/Tags" as UC_Categories
        usecase "Configure AI Parameters" as UC_ConfigAI
    }

    ' === AI System Functions ===
    package "AI Processing" {
        usecase "Analyze Speech" as UC_AnalyzeSpeech
        usecase "Generate Pronunciation Score" as UC_GenScore
        usecase "Provide Improvement Tips" as UC_Tips
        usecase "Calculate Spaced Repetition" as UC_CalcSRS
        usecase "Transcribe Audio" as UC_Transcribe
    }
}

' ============================================
' RELATIONSHIPS
' ============================================

' --- Guest Access ---
Guest --> UC_BrowseVideos
Guest --> UC_BrowseDecks
Guest --> UC_ViewForum
Guest --> UC_Register
Guest --> UC_SearchVideos

' --- User Access (extends Guest) ---
User --> UC_Login
User --> UC_Profile
User --> UC_Stats
User --> UC_Achievements
User --> UC_Goals

User --> UC_Shadowing
User --> UC_Dictation
User --> UC_Record
User --> UC_Score
User --> UC_SaveHistory

User --> UC_CreateDeck
User --> UC_AddVocab
User --> UC_EditDeck
User --> UC_DeleteDeck
User --> UC_ShareDeck
User --> UC_CloneDeck
User --> UC_Flashcards
User --> UC_FillIn
User --> UC_ImportDeck

User --> UC_Reminders
User --> UC_Review
User --> UC_WeeklyReport
User --> UC_AdjustSchedule

User --> UC_CreatePost
User --> UC_Comment
User --> UC_Like
User --> UC_Share
User --> UC_Report
User --> UC_Follow

' --- Admin Access (extends User) ---
Admin --> UC_UploadVideo
Admin --> UC_OfficialDeck
Admin --> UC_Moderate
Admin --> UC_BanUser
Admin --> UC_Analytics
Admin --> UC_Categories
Admin --> UC_ConfigAI

' --- AI System ---
AI --> UC_AnalyzeSpeech
AI --> UC_GenScore
AI --> UC_Tips
AI --> UC_CalcSRS
AI --> UC_Transcribe

' --- External System ---
YouTube --> UC_UploadVideo : provides video metadata

' ============================================
' INCLUDE & EXTEND RELATIONSHIPS
' ============================================

' Practice includes recording and AI feedback
UC_Shadowing ..> UC_Record : <<include>>
UC_Dictation ..> UC_Record : <<include>>
UC_Record ..> UC_AIFeedback : <<include>>

' AI Feedback includes analysis
UC_AIFeedback ..> UC_AnalyzeSpeech : <<include>>
UC_AIFeedback ..> UC_GenScore : <<include>>
UC_AIFeedback ..> UC_Tips : <<include>>

' Review system uses SRS calculation
UC_Review ..> UC_CalcSRS : <<include>>
UC_Reminders ..> UC_CalcSRS : <<include>>

' Deck management extensions
UC_CreateDeck ..> UC_AddVocab : <<include>>
UC_EditDeck ..> UC_AddVocab : <<extend>>
UC_ShareDeck ..> UC_EditDeck : <<extend>>

' Forum interactions
UC_CreatePost ..> UC_Share : <<extend>>
UC_Comment ..> UC_Like : <<extend>>

' Video upload includes transcription
UC_UploadVideo ..> UC_Transcribe : <<include>>

' ============================================
' NOTES
' ============================================

note right of AI
  AI System integrates with:
  - Speech Recognition API
  - Natural Language Processing
  - Pronunciation Analysis
  - Spaced Repetition Algorithm
end note

note bottom of YouTube
  Legal YouTube content
  extraction with proper
  attribution and licensing
end note

note left of User
  Registered users can:
  - Track progress
  - Create content
  - Interact with community
  - Receive personalized reviews
end note

note right of Admin
  Admins have full access
  plus content moderation
  and system configuration
end note

@enduml
